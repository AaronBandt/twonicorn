<div metal:use-macro="layout">
    <div metal:fill-slot="content">

    <h1>Applications</h1>

    <p>
      This page should display paginated list of applications
      <h3>TODO</h3>
      <ul>
       <li>search for deployments via nodegroup</li>
       <li>Make table sortable by column</li>
      </ul>
    </p>
      
    <div id="app_main">
      <div id="results_nav">
        <!!-- Results navigation -->
        <a class="nb_disable" disabled tal:condition="offset == 0"><img src='/static/nav-le.gif' border='0'></a>
        <a class="nb_disable" disabled tal:condition="offset == 0"><img src='/static/nav-l.gif' border='0'></a>
        <a class="nb" tal:condition="offset &gt; 0" tal:attributes="href '?start=0'"><img src='/static/nav-le.gif' border='0'></a>
        <a class="nb" tal:condition="offset &gt; 0" tal:attributes="href '?start=%d' % (offset-perpage)"><img src='/static/nav-l.gif' border='0'></a>
        <span tal:content="'%d-%d of %d' % (offset+1, min((offset+perpage),total), total)">
          11-20 of 123
        </span>
        <a class="nb" tal:condition="(offset+perpage) &lt; total" tal:attributes="href '?start=%d' % (offset+perpage)"><img src='/static/nav-r.gif' border='0'></a>
        <a class="nb" tal:condition="(offset+perpage) &lt; total" tal:attributes="href '?start=%d' % ((total-1)/perpage*perpage)"><img src='/static/nav-re.gif' border='0'></a>
        <a class="nb_disable" tal:condition="(offset+perpage) &gt;= total"><img src='/static/nav-r.gif' border='0'></a>
        <a class="nb_disable" tal:condition="(offset+perpage) &gt;= total" disabled><img src='/static/nav-re.gif' border='0'></a>
      </div>
  
      <div id="app_results">
        <table width="100%" tal:condition="applications">
          <tr>
            <th>Application ID</th>
            <th>Node Group</th>
            <th>Created</th>
          </tr>
          <tbody tal:repeat="item applications">
          <tr tal:attributes="class 'subh_app' if repeat.item.even else 'white'">
            <td><a href="deploys?application_id=0"
                   tal:attributes="href '/deploys?application_id=%d&nodegroup=%s' % (item[0],item[1])"
                   tal:content="item[0]">Artifacts By ID Link</a></td>
            <td><a href="deploys?application_id=0"
                   tal:attributes="href '/deploys?application_id=%d&nodegroup=%s' % (item[0],item[1])"
                   tal:content="item[1]">Artifacts By nodegroupLink</a></td>
            <td tal:content="item[2]">1975-09-28 00:00:00</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


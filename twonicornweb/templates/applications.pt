<html>
  <head><title>TUI: Applications</title>
    <link href="static/tc.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

    <table class="nav" width="100%">
      <tr class="nav">
        <td class="nav">
          [ <a class="nav" href="/">HOME</a> ]
          [ <a class="nav" href="/applications">APPLICATIONS</a> ]
          [ <a class="nav" href="/deploys">DEPLOYS</a> ]
          [ <a class="nav" href="/promote">PROMOTE</a> ]
        </td>
      </tr>
    </table>

    <p>
    <img src="static/logo.jpg">

    <h1>Applications</h1>

    <p>
      This page should display paginated list of applications
      <h3>TODO</h3>
      <ul>
       <li>search for deployments via nodegroup</li>
       <li>pagenate results (aka steal Wil's code)</li>
       <li>Make table sortable by column</li>
      </ul>
    </p>

    <table tal:condition="applications" border="1">
      <tr>
        <th>Application ID</th>
        <th>Node group</th>
        <th>Created</th>
      </tr>
      <tbody tal:repeat="item applications">
      <?python
        bgcolor = '#FFFFFF'
        if repeat.item.even:
            bgcolor = '#F9EEFF'
      ?>
      <tr bgcolor="#D8F0F8" tal:attributes="bgcolor '%s' % bgcolor">
        <td><a href="deploys?application_id=0"
               tal:attributes="href '/deploys?application_id=%d&nodegroup=%s' % (item[0],item[1])"
               tal:content="item[0]">Artifacts By ID Link</a></td>
        <td><a href="deploys?application_id=0"
               tal:attributes="href '/deploys?application_id=%d&nodegroup=%s' % (item[0],item[1])"
               tal:content="item[1]">Artifacts By nodegroupLink</a></td>
        <td tal:content="item[2]">1975-09-28 00:00:00</td>
      </tr>
      </tbody>
    </table>
  </body>
</html>

<div metal:use-macro="layout">
    <div metal:fill-slot="content">

    <p>Groups and their perms:</p>

    <p>
    <table>
      <tr>
        <th>Group ID</th>
        <th>Group Name</th>
        <th tal:repeat="perm all_perms" tal:content="perm.perm_name">Promote</th>
        <th>Created</th>
        <th>Updated</th>
        <th>User</th>
        <th tal:condition="user.cp_auth"></th>
      </tr>
      <tbody tal:repeat="item groups">
      <tr class="group">
        <td tal:content="item.group_id">
        <td tal:content="item.group_name">
        <td tal:repeat="perm all_perms"><input tal:attributes="checked True if (perm.perm_name in item.get_all_assignments()) else False; name perm.perm_name" type="checkbox" disabled/></td>
        <td tal:content="item.localize_date_created">1975-09-28 00:00:00</td>
        <td tal:content="item.localize_date_updated">1975-09-28 00:00:00</td>
        <td tal:content="item.updated_by">bandta</td>
        <td tal:condition="user.cp_auth"><a href="/cp/group?mode=edit&group_id=0"
               tal:attributes="href '/cp/group?mode=edit&group_id=%s' % item.group_id">Edit</a></td>
      </tr>
      </tbody>
    </table>

  </div>
</div>
